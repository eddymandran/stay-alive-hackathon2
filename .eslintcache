[{"/home/clement/stay-alive-hackathon2/src/index.js":"1","/home/clement/stay-alive-hackathon2/src/reportWebVitals.js":"2","/home/clement/stay-alive-hackathon2/src/App.js":"3","/home/clement/stay-alive-hackathon2/src/Components/ChooseMap.js":"4","/home/clement/stay-alive-hackathon2/src/Components/Home.js":"5","/home/clement/stay-alive-hackathon2/src/Components/Game.js":"6","/home/clement/stay-alive-hackathon2/src/Contexts/GeneralContext.js":"7","/home/clement/stay-alive-hackathon2/src/Components/Navbar.js":"8","/home/clement/stay-alive-hackathon2/src/Components/Board.js":"9","/home/clement/stay-alive-hackathon2/src/services/firebase.js":"10"},{"size":500,"mtime":1610552556112,"results":"11","hashOfConfig":"12"},{"size":362,"mtime":1610552556112,"results":"13","hashOfConfig":"12"},{"size":1175,"mtime":1610700123919,"results":"14","hashOfConfig":"12"},{"size":1875,"mtime":1610702718917,"results":"15","hashOfConfig":"12"},{"size":3274,"mtime":1610700123923,"results":"16","hashOfConfig":"12"},{"size":1154,"mtime":1610703089804,"results":"17","hashOfConfig":"12"},{"size":612,"mtime":1610700123923,"results":"18","hashOfConfig":"12"},{"size":2457,"mtime":1610703322438,"results":"19","hashOfConfig":"12"},{"size":3677,"mtime":1610700123923,"results":"20","hashOfConfig":"12"},{"size":1800,"mtime":1610700123923,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"17axpko",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"24"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"24"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"24"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"24"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"24"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/clement/stay-alive-hackathon2/src/index.js",[],["49","50"],"/home/clement/stay-alive-hackathon2/src/reportWebVitals.js",[],"/home/clement/stay-alive-hackathon2/src/App.js",["51","52","53","54"],"import React, { useState } from \"react\";\nimport './App.css';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Home from './Components/Home';\nimport ChooseMap from './Components/ChooseMap';\nimport Game from './Components/Game';\nimport GeneralContextProvider from './Contexts/GeneralContext';\nimport { ToastProvider } from 'react-toast-notifications';\n\nfunction App() {\n  const [users, setUsers] = useState([]);\n  const [chosenPicturePath, setChosenPicturePath] = useState(\"schwarzy.png\");\n  const [pseudo, setPseudo] = useState(\"\");\n\n  \n\n\n  \n  return (\n    <div className='App'>\n      <ToastProvider placement=\"top-right\">\n      <GeneralContextProvider>\n        <Router>\n          <main>\n          <Switch>\n            <Route\n              path=\"/\"\n              exact\n              component={Home}\n              props={(pseudo, setPseudo)}\n            />\n            <Route path=\"/ChooseMap/:iduser\" component={ChooseMap} />\n            <Route exact path=\"/Game/:iduser\" component={Game} />\n          </Switch>\n          </main>\n        </Router>\n      </GeneralContextProvider>\n      </ToastProvider>\n    </div>\n  );\n}\n\nexport default App;\n","/home/clement/stay-alive-hackathon2/src/Components/ChooseMap.js",["55","56","57","58","59"],"import React, { useContext } from \"react\";\nimport { GeneralContext } from \"../Contexts/GeneralContext\";\nimport \"../Styles/ChooseMap.scss\";\nimport Bureau1 from \"../images/Bureau1.png\";\nimport Bibliotheque from \"../images/Bibliotheque.png\";\nimport Foret from \"../images/Foret.png\";\nimport Jardin from \"../images/Jardin.png\";\n\nexport default function ChooseMap(props) {\n  const handleBackHomeClick = () => {\n    props.history.push(\"/\");\n  };\n\n  const handleGoGame = () => {\n    props.history.push(\"/Game/:iduser\");\n  };\n  const { worldID, setWorldID } = useContext(GeneralContext);\n\n  const bureau = \"bureau\";\n  const bibliotheque = \"bibliotheque\";\n  const foret = \"foret\";\n  const jardin = \"jardin\";\n\n  const getWorldId = (id) => {\n    setWorldID(id);\n    console.log(\"console log de l'id: \" + id);\n    console.log(\"console log du state \" + worldID);\n  };\n\n  return (\n    <div className=\"choosemap-body\">\n      <div className=\"titleChoooseMapContainer\">\n        <h1 className=\"titleChooseMap\">\n          <span className=\"titleChooseMap1\">Choose </span>Your Map !\n        </h1>\n      </div>\n\n      <div className=\"ChoiceContainer\">\n        <div className=\"World1\">\n          <img src={Bureau1} alt=\"bureau\" onClick={handleGoGame} />\n        </div>\n        <div className=\"World2\">\n          <img onClick={handleGoGame} src={Bibliotheque} alt=\"bibliothÃ¨que\" />\n        </div>\n        <div className=\"World3\">\n          <img onClick={handleGoGame} src={Foret} alt=\"foret\" />\n        </div>\n        <div className=\"World4\">\n          <img\n            onClick={handleGoGame}\n            className=\"jardin\"\n            src={Jardin}\n            alt=\"jardin\"\n          />\n        </div>\n      </div>\n      <form className=\"choosemap-form\">\n        <button onClick={handleBackHomeClick} className=\"button-back\">\n          back to menu\n        </button>\n      </form>\n    </div>\n  );\n}\n","/home/clement/stay-alive-hackathon2/src/Components/Home.js",["60"],"import React from 'react';\nimport '../Styles/Home.css';\nimport { firebase } from '../services/firebase';\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst fb = firebase;\n\nexport default function Home() {\n  const [pseudo, setPseudo] = useState('');\n  const [isSetUser, setIsSetUser] = useState(false);\n  const [idUser, setIdUser] = useState('');\n\n  const [chosenPicturePath, setChosenPicturePath] = useState('schwarzy.png');\n  const [chosen, setChosen] = useState(0);\n  const handleChosen1 = (e) => {\n    setChosen(1);\n    if (e.target.className === 'AvatarsLook1Active') {\n      setChosen();\n    }\n  };\n  const handleChosen2 = (e) => {\n    setChosen(2);\n    if (e.target.className === 'AvatarsLook2Active') {\n      setChosen();\n    }\n  };\n  const handleChosen3 = (e) => {\n    setChosen(3);\n    if (e.target.className === 'AvatarsLook3Active') {\n      setChosen();\n    }\n  };\n  const handleChosen4 = (e) => {\n    setChosen(4);\n    if (e.target.className === 'AvatarsLook4Active') {\n      setChosen();\n    }\n  };\n  const handleChosen5 = (e) => {\n    setChosen(5);\n    if (e.target.className === 'AvatarsLook5Active') {\n      setChosen();\n    }\n  };\n\n  const createUser = (event) => {\n    event.preventDefault();\n    fb.firestore()\n      .collection('Users')\n      .add({\n        name: pseudo,\n        picture: chosenPicturePath,\n        x: 0,\n        y: 0,\n        score: 0,\n      })\n      .then(function (res) {\n        // console.log(\"Document successfully written!\", res.id);\n        setIsSetUser(!isSetUser);\n        setIdUser(res.id);\n      })\n      .catch(function (error) {\n        console.error('Error writing document: ', error);\n      });\n  };\n\n  return (\n    <div className='home'>\n      <h1 className='titleHome'>\n        <span className='titleHome1'>Stay </span>Alive !\n      </h1>\n      <p className='chooseAvatarStyle'>Choose your avatar</p>\n      <div className='chooseAvatarImgs'>\n        <div\n          onClick={handleChosen1}\n          className={chosen === 1 ? 'AvatarsLook1Active' : 'AvatarsLook1'}\n        ></div>\n        <div\n          onClick={handleChosen2}\n          className={chosen === 2 ? 'AvatarsLook2Active' : 'AvatarsLook2'}\n        ></div>\n        <div\n          onClick={handleChosen3}\n          className={chosen === 3 ? 'AvatarsLook3Active' : 'AvatarsLook3'}\n        ></div>\n        <div\n          onClick={handleChosen4}\n          className={chosen === 4 ? 'AvatarsLook4Active' : 'AvatarsLook4'}\n        ></div>\n        <div\n          onClick={handleChosen5}\n          className={chosen === 5 ? 'AvatarsLook5Active' : 'AvatarsLook5'}\n        ></div>\n      </div>\n      <form className='formLogin' onSubmit={createUser}>\n        <label for='name' className='texteLabel'>\n          Pseudo\n        </label>\n        <input\n          type='text'\n          name='name'\n          className='pseudoInput'\n          value={pseudo}\n          onChange={(e) => setPseudo(e.target.value)}\n        ></input>\n\n        {!isSetUser ? (\n          <button type='submit' className='buttonHome'>\n            Rejoindre\n          </button>\n        ) : (\n          <Link to={`ChooseMap/${idUser}`}>\n            <input type='button' value='GO' className='buttonHome' />\n          </Link>\n        )}\n      </form>\n    </div>\n  );\n}\n","/home/clement/stay-alive-hackathon2/src/Components/Game.js",["61"],"import \"../Styles/Board.css\";\nimport Board from \"./Board\";\nimport React, { useEffect } from \"react\";\nimport Navbar from \"./Navbar\";\nimport \"../Styles/Game.css\";\nimport { useState } from \"react\";\nimport { firebase } from \"../services/firebase\";\nimport \"../Styles/Board.css\";\n\nconst fb = firebase;\n\n// const useMove = () => {\n//   const [state, setState] = useState({x: 0, y: 0})\n\n//   const handleMouseMove = e => {\n//     e.persist()\n//     setState(state => ({...state, x: e.clientX, y: e.clientY}))\n//   }\n//   return {\n//     x: state.x,\n//     y: state.y,\n//     handleMouseMove,\n//   }\n// }\n\nexport default function Game(props) {\n  const params = props.match.params;\n  const idUser = params.iduser;\n  const [users, setUsers] = useState([]);\n  const [user, setUser] = useState([]);\n\n  useEffect(() => {\n    const getUser = fb\n      .firestore()\n      .collection(\"Users\")\n      .doc(idUser)\n      .onSnapshot((u) => {\n        setUser({ id: u.id, ...u.data() });\n      });\n\n    return () => getUser();\n  }, []);\n\n  return (\n    <div className=\"gameBody\">\n      <Navbar props={(users, setUsers, user)} />\n      <Board props={user} />\n    </div>\n  );\n}\n","/home/clement/stay-alive-hackathon2/src/Contexts/GeneralContext.js",[],"/home/clement/stay-alive-hackathon2/src/Components/Navbar.js",["62","63","64","65"],"import React, { useContext, useEffect } from \"react\";\nimport \"../Styles/Navbar.css\";\nimport { Howl } from \"howler\";\nimport gagne from \"../audio/gagne.mp3\";\nimport pump from \"../audio/pump.mp3\";\nimport { GeneralContext } from \"../Contexts/GeneralContext\";\nimport { useToasts } from \"react-toast-notifications\";\nimport { firebase } from \"../services/firebase\";\nimport { useState } from \"react\";\nimport gun from \"../images/gun.png\";\nimport schwarzy from \"../images/schwarzy.png\";\n\nconst fb = firebase;\n\n// const audioClips = new Howl({\n//   src: [gagne],\n// });\n// const audioClips1 = new Howl({\n//   src: [pump],\n// });\n\nexport default function Navbar(props) {\n  const { scorePlayer } = useContext(GeneralContext);\n  const { addToast } = useToasts();\n\n  function goodPlayer() {\n    if (scorePlayer === 10 || scorePlayer === 20) {\n      //audioClips.play();\n      addToast(\"Vous Ãªtes dÃ©chainÃ© !\", {\n        appearance: \"success\",\n        autoDismiss: true,\n      });\n    } else if (scorePlayer === -1 || scorePlayer === -10) {\n      //audioClips1.play();\n      addToast(\"Vous dormez ??? Debout la dedans !!!\", {\n        appearance: \"error\",\n        autoDismiss: true,\n      });\n    }\n  }\n\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    const getUsers = fb\n      .firestore()\n      .collection(\"Users\")\n      .orderBy(\"name\", \"asc\")\n      .onSnapshot((u) => {\n        setUsers(\n          u.docs.map((user) => {\n            return { id: user.id, ...user.data() };\n          })\n        );\n      });\n\n    return () => getUsers();\n  }, []);\n\n  useEffect(() => {\n    goodPlayer();\n  }, [scorePlayer]);\n\n  return (\n    <div className=\"scoreBar\">\n      <div className=\"zoneAvatar\">\n        <button className=\"buttonBack\">Home</button>\n        <img\n          src={schwarzy}\n          className=\"avatarImage\"\n          alt=\"personnage choisi\"\n        ></img>\n        <h5 className=\"title5\">NickName :</h5>\n      </div>\n      <hr />\n      <div className=\"zoneScore\">\n        <h5 className=\"title5\">\n          {\" \"}\n          Your score :<p className=\"scorePlayer\">{scorePlayer}</p>\n        </h5>\n        <img src={gun} alt=\"gun\" className=\"gunImage\"></img>\n      </div>\n      <hr />\n      <div className=\"zoneCharacters\">\n        <h5 className=\"title5\">Fugitive(s)</h5>\n        <ul className=\"charactersList\">\n          {users.map((u) => {\n            return <li key={u.id}>{u.name}</li>;\n          })}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","/home/clement/stay-alive-hackathon2/src/Components/Board.js",["66"],"/* eslint-disable no-restricted-globals */\nimport React, { useContext } from 'react';\nimport '../Styles/Board.css';\nimport { GeneralContext } from '../Contexts/GeneralContext';\nimport nerf from '../images/nerf.png';\nimport schwarzy from '../images/schwarzy.png';\nimport { firebase } from '../services/firebase';\nimport { useHistory } from 'react-router-dom';\n\nconst fb = firebase;\n\nexport default function Board(props) {\n  const { scorePlayer, setScorePlayer } = useContext(GeneralContext);\n  const history = useHistory();\n\n  document.body.onmousemove = function () {\n    document.getElementById('scope').style.marginLeft = event.x - 32 + 'px';\n    document.getElementById('scope').style.marginTop = event.y - 32 + 'px';\n  };\n  const user = props;\n\n  const speed = 22;\n  let leftSpace = 0;\n  let topSpace = 0;\n\n  const handleScorePlayer = async (scorePlayer, iduser) => {\n    await fb\n      .firestore()\n      .collection('Users')\n      .doc(iduser)\n      .update({\n        score: scorePlayer,\n      })\n      .then((res) => {\n        console.log(res.data);\n      })\n      .catch((err) => {\n        console.error('Error writing coordonates', err);\n      });\n  };\n\n  const setCoordonates = (e) => {\n    fb.firestore()\n      .collection('Users')\n      .doc(user.props.id)\n      .update({\n        x: e.clientX,\n        y: e.clientY,\n      })\n      .then((res) => {\n        console.log('Coordonates updated');\n      })\n      .catch((err) => {\n        console.error('Error writing coordonates', err);\n      });\n    /*     setUser({x: e.clientX, y: e.clientY});\n    console.log(user); */\n  };\n\n  document.body.onkeydown = function () {\n    const myKey = event.keyCode;\n\n    const target = document.getElementById('target');\n    if (myKey === 37) {\n      leftSpace -= speed;\n      target.style.marginLeft = leftSpace + 'px';\n    } else if (myKey === 38) {\n      topSpace -= speed;\n      target.style.marginTop = topSpace + 'px';\n    } else if (myKey === 39) {\n      leftSpace += speed;\n      target.style.marginLeft = leftSpace + 'px';\n    } else if (myKey === 40) {\n      topSpace += speed;\n      target.style.marginTop = topSpace + 'px';\n    }\n    if (myKey === 81) {\n      console.log('je quitte');\n      history.push('/');\n    }\n  };\n\n  function shoot() {\n    let bulletPosX = event.x - 32;\n    console.log(\"bulletPosX \"+bulletPosX)\n    let bulletPosY = event.y - 32;\n    console.log(\"bulletPosY \"+bulletPosY)\n    let targetPosX = document.getElementById('target').x;\n    console.log(\"targetPosX \"+targetPosX)\n    let targetPosXEdge = targetPosX + 100;\n    console.log(\"targetPosXEdge \"+targetPosXEdge)\n    let targetPosY = document.getElementById('target').y;\n    console.log(\"targetPosY \"+targetPosY)\n    let targetPosYEdge = targetPosY + 100;\n    console.log(\"targetPosYEdge \"+targetPosYEdge)\n\n    let newScore = scorePlayer;\n\n    if (\n      bulletPosX > targetPosX &&\n      bulletPosX < targetPosXEdge &&\n      bulletPosY > targetPosY &&\n      bulletPosY < targetPosYEdge\n    ) {\n      newScore++;\n      setScorePlayer(newScore);\n    } else {\n      newScore--;\n      setScorePlayer(newScore);\n    }\n    handleScorePlayer(newScore, user.props.id);\n  }\n\n  return (\n    <div id='container'>\n      <div\n        style={{\n          position: 'absolute',\n          top: `${user.props.y}px`,\n          left: `${user.props.x}px`,\n          zIndex: -1,\n        }}\n      >\n        <img id='target' alt='target' src={schwarzy} />\n        <h2>{user.props.name}</h2>\n      </div>\n\n      <img\n        src={nerf}\n        id='scope'\n        onClick={shoot}\n        alt='scope'\n        style={{\n          position: 'absolute',\n        }}\n      />\n\n      <h1>STAY ALIVE !!</h1>\n    </div>\n  );\n}\n","/home/clement/stay-alive-hackathon2/src/services/firebase.js",[],{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","severity":1,"message":"72","line":11,"column":10,"nodeType":"73","messageId":"74","endLine":11,"endColumn":15},{"ruleId":"71","severity":1,"message":"75","line":11,"column":17,"nodeType":"73","messageId":"74","endLine":11,"endColumn":25},{"ruleId":"71","severity":1,"message":"76","line":12,"column":10,"nodeType":"73","messageId":"74","endLine":12,"endColumn":27},{"ruleId":"71","severity":1,"message":"77","line":12,"column":29,"nodeType":"73","messageId":"74","endLine":12,"endColumn":49},{"ruleId":"71","severity":1,"message":"78","line":19,"column":9,"nodeType":"73","messageId":"74","endLine":19,"endColumn":15},{"ruleId":"71","severity":1,"message":"79","line":20,"column":9,"nodeType":"73","messageId":"74","endLine":20,"endColumn":21},{"ruleId":"71","severity":1,"message":"80","line":21,"column":9,"nodeType":"73","messageId":"74","endLine":21,"endColumn":14},{"ruleId":"71","severity":1,"message":"81","line":22,"column":9,"nodeType":"73","messageId":"74","endLine":22,"endColumn":15},{"ruleId":"71","severity":1,"message":"82","line":24,"column":9,"nodeType":"73","messageId":"74","endLine":24,"endColumn":19},{"ruleId":"71","severity":1,"message":"77","line":14,"column":29,"nodeType":"73","messageId":"74","endLine":14,"endColumn":49},{"ruleId":"83","severity":1,"message":"84","line":42,"column":6,"nodeType":"85","endLine":42,"endColumn":8,"suggestions":"86"},{"ruleId":"71","severity":1,"message":"87","line":3,"column":10,"nodeType":"73","messageId":"74","endLine":3,"endColumn":14},{"ruleId":"71","severity":1,"message":"88","line":4,"column":8,"nodeType":"73","messageId":"74","endLine":4,"endColumn":13},{"ruleId":"71","severity":1,"message":"89","line":5,"column":8,"nodeType":"73","messageId":"74","endLine":5,"endColumn":12},{"ruleId":"83","severity":1,"message":"90","line":62,"column":6,"nodeType":"85","endLine":62,"endColumn":19,"suggestions":"91"},{"ruleId":"71","severity":1,"message":"92","line":42,"column":9,"nodeType":"73","messageId":"74","endLine":42,"endColumn":23},"no-native-reassign",["93"],"no-negated-in-lhs",["94"],"no-unused-vars","'users' is assigned a value but never used.","Identifier","unusedVar","'setUsers' is assigned a value but never used.","'chosenPicturePath' is assigned a value but never used.","'setChosenPicturePath' is assigned a value but never used.","'bureau' is assigned a value but never used.","'bibliotheque' is assigned a value but never used.","'foret' is assigned a value but never used.","'jardin' is assigned a value but never used.","'getWorldId' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'idUser'. Either include it or remove the dependency array.","ArrayExpression",["95"],"'Howl' is defined but never used.","'gagne' is defined but never used.","'pump' is defined but never used.","React Hook useEffect has a missing dependency: 'goodPlayer'. Either include it or remove the dependency array.",["96"],"'setCoordonates' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"97","fix":"98"},{"desc":"99","fix":"100"},"Update the dependencies array to be: [idUser]",{"range":"101","text":"102"},"Update the dependencies array to be: [goodPlayer, scorePlayer]",{"range":"103","text":"104"},[1010,1012],"[idUser]",[1597,1610],"[goodPlayer, scorePlayer]"]